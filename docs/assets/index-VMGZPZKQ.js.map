{"version":3,"file":"index-VMGZPZKQ.js","sources":["../../node_modules/react-dom/client.js","../../src/shared/constants/config.ts","../../src/features/auth/services/authService.ts","../../src/shared/lib/db/index.ts","../../src/features/auth/stores/authStore.ts","../../src/features/auth/hooks/useAuth.ts","../../src/features/customers/schemas/customer.schema.ts","../../src/features/customers/services/customerService.ts","../../src/features/customers/hooks/useCustomers.ts","../../src/shared/components/Button.tsx","../../src/shared/components/Input.tsx","../../src/shared/components/Textarea.tsx","../../src/shared/components/Modal.tsx","../../src/shared/components/LoadingSpinner.tsx","../../src/features/customers/components/CustomerList.tsx","../../src/features/customers/components/CustomerForm.tsx","../../src/features/customers/components/CustomerDetails.tsx","../../src/features/customers/pages/Dashboard.tsx","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","/**\n * Application Configuration\n * Centralized configuration for the BYD CRM application\n */\n\nexport const CONFIG = {\n  /**\n   * Google OAuth and Drive API Configuration\n   */\n  GOOGLE: {\n    CLIENT_ID: import.meta.env.VITE_GOOGLE_CLIENT_ID || '',\n    API_KEY: import.meta.env.VITE_GOOGLE_API_KEY || '',\n    SCOPES: [\n      'https://www.googleapis.com/auth/drive',\n      'https://www.googleapis.com/auth/drive.appdata',\n    ].join(' '),\n    DISCOVERY_DOCS: [\n      'https://www.googleapis.com/discovery/v1/apis/drive/v3/rest',\n    ],\n  },\n\n  /**\n   * Google Drive Folder Structure\n   */\n  DRIVE_FOLDERS: {\n    ROOT: 'BYD CRM',\n    CUSTOMERS_DATA: 'BYD Customers Data',\n    FORMS: 'BYD CRM - Form Templates',\n    EXCEL: 'BYD CRM - Excel Templates',\n    CUSTOMER_SUBFOLDERS: [\n      'NRIC',\n      'Test Drive',\n      'VSA',\n      'Trade In',\n      'Other Documents',\n    ],\n  },\n\n  /**\n   * Sync Configuration\n   */\n  SYNC: {\n    BATCH_SIZE: 10,\n    RETRY_LIMIT: 3,\n    RETRY_DELAY: 1000, // milliseconds\n    AUTO_SYNC_INTERVAL: 5 * 60 * 1000, // 5 minutes\n    TIMEOUT: 30000, // 30 seconds\n  },\n\n  /**\n   * Security Configuration\n   */\n  ENCRYPTION: {\n    SALT: import.meta.env.VITE_ENCRYPTION_SALT || 'default-salt-change-me',\n    ALGORITHM: 'AES',\n  },\n\n  /**\n   * UI Configuration\n   */\n  UI: {\n    ITEMS_PER_PAGE: 20,\n    DEBOUNCE_DELAY: 300, // milliseconds\n    TOAST_DURATION: 3000, // milliseconds\n    MAX_FILE_SIZE: 10 * 1024 * 1024, // 10MB\n  },\n\n  /**\n   * App Metadata\n   */\n  APP: {\n    NAME: import.meta.env.VITE_APP_NAME || 'BYD CRM',\n    VERSION: import.meta.env.VITE_APP_VERSION || '2.0.0',\n    ENV: import.meta.env.VITE_APP_ENV || 'development',\n  },\n\n  /**\n   * Feature Flags\n   */\n  FEATURES: {\n    OFFLINE_MODE: true,\n    AUTO_SYNC: true,\n    DATA_ENCRYPTION: true,\n    DEBUG_MODE: import.meta.env.DEV,\n  },\n} as const;\n\n/**\n * Validate required configuration\n */\nexport function validateConfig(): { valid: boolean; errors: string[] } {\n  const errors: string[] = [];\n\n  if (!CONFIG.GOOGLE.CLIENT_ID) {\n    errors.push('Missing VITE_GOOGLE_CLIENT_ID environment variable');\n  }\n\n  if (!CONFIG.GOOGLE.API_KEY) {\n    errors.push('Missing VITE_GOOGLE_API_KEY environment variable');\n  }\n\n  if (\n    CONFIG.ENCRYPTION.SALT === 'default-salt-change-me' &&\n    CONFIG.APP.ENV === 'production'\n  ) {\n    errors.push('Default encryption salt is not secure for production');\n  }\n\n  return {\n    valid: errors.length === 0,\n    errors,\n  };\n}\n","import { CONFIG } from '@/shared/constants/config';\n\n/**\n * Consultant/User interface\n */\nexport interface Consultant {\n  id: string;\n  email: string;\n  name: string;\n  picture: string;\n}\n\n/**\n * Authentication Service\n * Handles Google OAuth authentication and session management\n */\nexport class AuthService {\n  private static instance: AuthService;\n  private auth: gapi.auth2.GoogleAuth | null = null;\n  private isInitialized = false;\n\n  private constructor() {}\n\n  /**\n   * Get singleton instance\n   */\n  static getInstance(): AuthService {\n    if (!AuthService.instance) {\n      AuthService.instance = new AuthService();\n    }\n    return AuthService.instance;\n  }\n\n  /**\n   * Initialize Google API client\n   */\n  async init(): Promise<void> {\n    if (this.isInitialized) {\n      return;\n    }\n\n    return new Promise((resolve, reject) => {\n      // Check if script already loaded\n      if (window.gapi) {\n        this.loadAuth(resolve, reject);\n        return;\n      }\n\n      // Load GAPI script\n      const script = document.createElement('script');\n      script.src = 'https://apis.google.com/js/api.js';\n      script.async = true;\n      script.defer = true;\n\n      script.onload = () => {\n        this.loadAuth(resolve, reject);\n      };\n\n      script.onerror = () => {\n        reject(new Error('Failed to load Google API script'));\n      };\n\n      document.body.appendChild(script);\n    });\n  }\n\n  /**\n   * Load Google Auth\n   */\n  private loadAuth(resolve: () => void, reject: (error: Error) => void): void {\n    gapi.load('client:auth2', async () => {\n      try {\n        await gapi.client.init({\n          apiKey: CONFIG.GOOGLE.API_KEY,\n          clientId: CONFIG.GOOGLE.CLIENT_ID,\n          discoveryDocs: [...CONFIG.GOOGLE.DISCOVERY_DOCS],\n          scope: CONFIG.GOOGLE.SCOPES,\n        });\n\n        this.auth = gapi.auth2.getAuthInstance();\n        this.isInitialized = true;\n\n        console.log('✅ Google API initialized');\n        resolve();\n      } catch (error) {\n        console.error('❌ Failed to initialize Google API:', error);\n        reject(\n          error instanceof Error\n            ? error\n            : new Error('Failed to initialize Google API')\n        );\n      }\n    });\n  }\n\n  /**\n   * Sign in with Google\n   */\n  async signIn(): Promise<Consultant> {\n    if (!this.auth) {\n      throw new Error('Google Auth not initialized. Call init() first.');\n    }\n\n    try {\n      const googleUser = await this.auth.signIn();\n      const profile = googleUser.getBasicProfile();\n\n      const consultant: Consultant = {\n        id: profile.getId(),\n        email: profile.getEmail(),\n        name: profile.getName(),\n        picture: profile.getImageUrl(),\n      };\n\n      // Store in sessionStorage\n      sessionStorage.setItem('consultant', JSON.stringify(consultant));\n\n      console.log('✅ Signed in as:', consultant.email);\n      return consultant;\n    } catch (error) {\n      console.error('❌ Sign in failed:', error);\n      throw new Error('Failed to sign in with Google');\n    }\n  }\n\n  /**\n   * Sign out\n   */\n  async signOut(): Promise<void> {\n    if (!this.auth) {\n      throw new Error('Google Auth not initialized');\n    }\n\n    try {\n      await this.auth.signOut();\n      sessionStorage.removeItem('consultant');\n      console.log('✅ Signed out');\n    } catch (error) {\n      console.error('❌ Sign out failed:', error);\n      throw new Error('Failed to sign out');\n    }\n  }\n\n  /**\n   * Check if user is signed in\n   */\n  isSignedIn(): boolean {\n    return this.auth?.isSignedIn.get() ?? false;\n  }\n\n  /**\n   * Get current consultant from session\n   */\n  getCurrentConsultant(): Consultant | null {\n    const stored = sessionStorage.getItem('consultant');\n    if (!stored) return null;\n\n    try {\n      return JSON.parse(stored) as Consultant;\n    } catch {\n      return null;\n    }\n  }\n\n  /**\n   * Get access token for API calls\n   */\n  getAccessToken(): string {\n    const user = this.auth?.currentUser.get();\n    return user?.getAuthResponse().access_token ?? '';\n  }\n\n  /**\n   * Listen for auth state changes\n   */\n  onAuthStateChange(callback: (isSignedIn: boolean) => void): () => void {\n    if (!this.auth) {\n      console.warn('Auth not initialized, cannot listen to state changes');\n      return () => {};\n    }\n\n    const listenerId = this.auth.isSignedIn.listen(callback);\n\n    // Return cleanup function\n    return () => {\n      // Cleanup if needed (gapi doesn't provide direct unlisten)\n      console.log('Cleaned up auth listener:', listenerId);\n    };\n  }\n\n  /**\n   * Check if auth is initialized\n   */\n  getIsInitialized(): boolean {\n    return this.isInitialized;\n  }\n}\n\n/**\n * Export singleton instance\n */\nexport const authService = AuthService.getInstance();\n","import Dexie, { Table } from 'dexie';\n\n/**\n * Customer interface\n */\nexport interface Customer {\n  id: string;\n  consultantId: string;\n  name: string;\n  phone: string;\n  email?: string;\n  nric: string;\n  dob: string;\n  occupation?: string;\n  address: string;\n  addressContinue?: string;\n  salesConsultant: string;\n  vsaNo?: string;\n  dealClosed: boolean;\n  driveFolderId?: string;\n  driveFolderLink?: string;\n  subfolders?: Record<string, string>;\n  notes?: string;\n  checklist: Record<string, boolean>;\n  createdAt: string;\n  updatedAt: string;\n  encrypted: boolean;\n}\n\n/**\n * Form field configuration\n */\nexport interface FormField {\n  id: string;\n  label: string;\n  customerField: string;\n  x: number;\n  y: number;\n  fontSize: number;\n  fontFamily: string;\n  color: string;\n  align: 'left' | 'center' | 'right';\n}\n\n/**\n * Form template\n */\nexport interface FormTemplate {\n  id: string;\n  consultantId: string;\n  name: string;\n  imageUrl: string;\n  driveFileId?: string;\n  fields: FormField[];\n  createdAt: string;\n  updatedAt: string;\n}\n\n/**\n * Excel cell mapping\n */\nexport interface ExcelMapping {\n  customerField: string;\n  cell: string;\n  sheetName?: string;\n}\n\n/**\n * Excel template\n */\nexport interface ExcelTemplate {\n  id: string;\n  consultantId: string;\n  name: string;\n  driveFileId: string;\n  driveFileName: string;\n  mappings: ExcelMapping[];\n  createdAt: string;\n  updatedAt: string;\n}\n\n/**\n * Sync operation for offline queue\n */\nexport interface SyncOperation {\n  id: string;\n  consultantId: string;\n  type: string;\n  entityType: 'customer' | 'form' | 'excel';\n  entityId: string;\n  data: any;\n  status: 'pending' | 'processing' | 'completed' | 'failed';\n  error?: string;\n  retryCount: number;\n  createdAt: string;\n  updatedAt: string;\n}\n\n/**\n * BYD CRM Database\n * Uses IndexedDB via Dexie for local storage\n */\nexport class BYDDatabase extends Dexie {\n  customers!: Table<Customer, string>;\n  formTemplates!: Table<FormTemplate, string>;\n  excelTemplates!: Table<ExcelTemplate, string>;\n  syncQueue!: Table<SyncOperation, string>;\n\n  constructor() {\n    super('BYD_CRM_DB');\n\n    this.version(1).stores({\n      customers: 'id, consultantId, name, createdAt, updatedAt, dealClosed',\n      formTemplates: 'id, consultantId, name, createdAt',\n      excelTemplates: 'id, consultantId, name, createdAt',\n      syncQueue: 'id, consultantId, status, entityType, createdAt',\n    });\n  }\n\n  /**\n   * Clear all data for a specific consultant (for testing/logout)\n   */\n  async clearConsultantData(consultantId: string): Promise<void> {\n    await this.transaction(\n      'rw',\n      [this.customers, this.formTemplates, this.excelTemplates, this.syncQueue],\n      async () => {\n        await this.customers.where('consultantId').equals(consultantId).delete();\n        await this.formTemplates\n          .where('consultantId')\n          .equals(consultantId)\n          .delete();\n        await this.excelTemplates\n          .where('consultantId')\n          .equals(consultantId)\n          .delete();\n        await this.syncQueue\n          .where('consultantId')\n          .equals(consultantId)\n          .delete();\n      }\n    );\n  }\n\n  /**\n   * Get database statistics for a consultant\n   */\n  async getStats(consultantId: string): Promise<{\n    customers: number;\n    forms: number;\n    excel: number;\n    pendingSync: number;\n  }> {\n    return {\n      customers: await this.customers\n        .where('consultantId')\n        .equals(consultantId)\n        .count(),\n      forms: await this.formTemplates\n        .where('consultantId')\n        .equals(consultantId)\n        .count(),\n      excel: await this.excelTemplates\n        .where('consultantId')\n        .equals(consultantId)\n        .count(),\n      pendingSync: await this.syncQueue\n        .where({ consultantId, status: 'pending' })\n        .count(),\n    };\n  }\n}\n\n/**\n * Export singleton database instance\n */\nexport const db = new BYDDatabase();\n","import { create } from 'zustand';\nimport { authService, type Consultant } from '../services/authService';\nimport { db } from '@/shared/lib/db';\n\ninterface AuthState {\n  consultant: Consultant | null;\n  isInitialized: boolean;\n  isSignedIn: boolean;\n  isLoading: boolean;\n  error: string | null;\n\n  // Actions\n  init: () => Promise<void>;\n  signIn: () => Promise<void>;\n  signOut: () => Promise<void>;\n  clearError: () => void;\n}\n\n/**\n * Authentication Store\n * Manages authentication state and actions\n */\nexport const useAuthStore = create<AuthState>((set, get) => ({\n  consultant: null,\n  isInitialized: false,\n  isSignedIn: false,\n  isLoading: false,\n  error: null,\n\n  /**\n   * Initialize authentication\n   */\n  init: async () => {\n    try {\n      set({ isLoading: true, error: null });\n\n      // Initialize Google Auth\n      await authService.init();\n\n      // Check if already signed in\n      const isSignedIn = authService.isSignedIn();\n      const consultant = isSignedIn ? authService.getCurrentConsultant() : null;\n\n      set({\n        isInitialized: true,\n        isSignedIn,\n        consultant,\n        isLoading: false,\n      });\n\n      console.log('✅ Auth initialized, signed in:', isSignedIn);\n    } catch (error) {\n      const errorMessage =\n        error instanceof Error ? error.message : 'Failed to initialize auth';\n\n      set({\n        isInitialized: true,\n        isLoading: false,\n        error: errorMessage,\n      });\n\n      console.error('❌ Auth initialization failed:', errorMessage);\n    }\n  },\n\n  /**\n   * Sign in with Google\n   */\n  signIn: async () => {\n    try {\n      set({ isLoading: true, error: null });\n\n      const consultant = await authService.signIn();\n\n      set({\n        consultant,\n        isSignedIn: true,\n        isLoading: false,\n      });\n\n      console.log('✅ Signed in successfully');\n    } catch (error) {\n      const errorMessage =\n        error instanceof Error ? error.message : 'Failed to sign in';\n\n      set({\n        isLoading: false,\n        error: errorMessage,\n      });\n\n      console.error('❌ Sign in failed:', errorMessage);\n      throw error;\n    }\n  },\n\n  /**\n   * Sign out\n   */\n  signOut: async () => {\n    try {\n      set({ isLoading: true, error: null });\n\n      const consultant = get().consultant;\n\n      // Sign out from Google\n      await authService.signOut();\n\n      // Clear local database for this consultant\n      if (consultant) {\n        await db.clearConsultantData(consultant.id);\n        console.log('✅ Cleared local data for consultant:', consultant.id);\n      }\n\n      set({\n        consultant: null,\n        isSignedIn: false,\n        isLoading: false,\n      });\n\n      console.log('✅ Signed out successfully');\n    } catch (error) {\n      const errorMessage =\n        error instanceof Error ? error.message : 'Failed to sign out';\n\n      set({\n        isLoading: false,\n        error: errorMessage,\n      });\n\n      console.error('❌ Sign out failed:', errorMessage);\n      throw error;\n    }\n  },\n\n  /**\n   * Clear error message\n   */\n  clearError: () => set({ error: null }),\n}));\n","import { useEffect } from 'react';\nimport { useAuthStore } from '../stores/authStore';\n\n/**\n * Custom hook for authentication\n * Provides easy access to auth state and actions for components\n */\nexport function useAuth() {\n  const store = useAuthStore();\n\n  // Initialize on mount\n  useEffect(() => {\n    if (!store.isInitialized) {\n      store.init();\n    }\n  }, [store.isInitialized, store.init]);\n\n  return {\n    // State\n    consultant: store.consultant,\n    isSignedIn: store.isSignedIn,\n    isInitialized: store.isInitialized,\n    isLoading: store.isLoading,\n    error: store.error,\n\n    // Actions\n    signIn: store.signIn,\n    signOut: store.signOut,\n    clearError: store.clearError,\n\n    // Computed\n    isReady: store.isInitialized && !store.isLoading,\n  };\n}\n","import { z } from 'zod';\n\n/**\n * Customer validation schema\n * Defines the structure and validation rules for customer data\n */\nexport const customerSchema = z.object({\n  id: z.string().uuid(),\n  consultantId: z.string().min(1, 'Consultant ID required'),\n\n  // Personal Information\n  name: z\n    .string()\n    .min(2, 'Name must be at least 2 characters')\n    .max(100, 'Name must be less than 100 characters')\n    .trim(),\n\n  phone: z\n    .string()\n    .regex(/^\\+?[0-9\\s-()]+$/, 'Invalid phone number format')\n    .min(8, 'Phone number too short')\n    .max(20, 'Phone number too long')\n    .trim(),\n\n  email: z\n    .string()\n    .email('Invalid email address')\n    .optional()\n    .or(z.literal(''))\n    .transform((val) => (val === '' ? undefined : val)),\n\n  nric: z\n    .string()\n    .regex(/^[STFG]\\d{7}[A-Z]$/, 'Invalid NRIC format (e.g., S1234567A)')\n    .toUpperCase()\n    .trim(),\n\n  dob: z.string().regex(/^\\d{4}-\\d{2}-\\d{2}$/, 'Date must be in YYYY-MM-DD format'),\n\n  occupation: z\n    .string()\n    .max(100, 'Occupation too long')\n    .optional()\n    .or(z.literal(''))\n    .transform((val) => (val === '' ? undefined : val)),\n\n  // Address\n  address: z\n    .string()\n    .min(5, 'Address must be at least 5 characters')\n    .max(200, 'Address too long')\n    .trim(),\n\n  addressContinue: z\n    .string()\n    .max(200, 'Address continuation too long')\n    .optional()\n    .or(z.literal(''))\n    .transform((val) => (val === '' ? undefined : val)),\n\n  // Sales Information\n  salesConsultant: z.string().min(2, 'Sales consultant name required').trim(),\n\n  vsaNo: z\n    .string()\n    .optional()\n    .or(z.literal(''))\n    .transform((val) => (val === '' ? undefined : val)),\n\n  dealClosed: z.boolean().default(false),\n\n  // Google Drive\n  driveFolderId: z.string().optional(),\n  driveFolderLink: z\n    .string()\n    .url()\n    .optional()\n    .or(z.literal(''))\n    .transform((val) => (val === '' ? undefined : val)),\n  subfolders: z.record(z.string()).optional(),\n\n  // Notes and Checklist\n  notes: z\n    .string()\n    .max(2000, 'Notes too long')\n    .optional()\n    .or(z.literal(''))\n    .transform((val) => (val === '' ? undefined : val)),\n\n  checklist: z.record(z.boolean()).default({}),\n\n  // Metadata\n  createdAt: z.string().datetime(),\n  updatedAt: z.string().datetime(),\n  encrypted: z.boolean().default(false),\n});\n\n/**\n * Infer TypeScript type from schema\n */\nexport type Customer = z.infer<typeof customerSchema>;\n\n/**\n * Schema for creating a new customer (omit auto-generated fields)\n */\nexport const createCustomerSchema = customerSchema.omit({\n  id: true,\n  consultantId: true,\n  createdAt: true,\n  updatedAt: true,\n  encrypted: true,\n  driveFolderId: true,\n  driveFolderLink: true,\n  subfolders: true,\n});\n\nexport type CreateCustomerInput = z.infer<typeof createCustomerSchema>;\n\n/**\n * Schema for updating a customer (all fields optional, id is passed separately)\n */\nexport const updateCustomerSchema = customerSchema.omit({\n  id: true,\n  consultantId: true,\n  createdAt: true,\n  updatedAt: true,\n  encrypted: true,\n}).partial();\n\nexport type UpdateCustomerInput = z.infer<typeof updateCustomerSchema>;\n\n/**\n * Schema for searching customers\n */\nexport const searchCustomerSchema = z.object({\n  query: z.string().min(1, 'Search query required'),\n  limit: z.number().min(1).max(100).default(20),\n  offset: z.number().min(0).default(0),\n});\n\nexport type SearchCustomerInput = z.infer<typeof searchCustomerSchema>;\n","import { db, type Customer } from '@/shared/lib/db';\nimport {\n  customerSchema,\n  type CreateCustomerInput,\n  type UpdateCustomerInput,\n} from '../schemas/customer.schema';\nimport { authService } from '@/features/auth/services/authService';\n\n/**\n * Customer Service\n * Handles all customer-related business logic\n */\nexport class CustomerService {\n  /**\n   * Get all customers for current consultant\n   */\n  async getAll(): Promise<Customer[]> {\n    const consultant = authService.getCurrentConsultant();\n    if (!consultant) {\n      throw new Error('Not authenticated');\n    }\n\n    return db.customers\n      .where('consultantId')\n      .equals(consultant.id)\n      .reverse()\n      .sortBy('createdAt');\n  }\n\n  /**\n   * Get customer by ID\n   */\n  async getById(id: string): Promise<Customer | null> {\n    const consultant = authService.getCurrentConsultant();\n    if (!consultant) {\n      throw new Error('Not authenticated');\n    }\n\n    const customer = await db.customers.get(id);\n\n    // Security: Verify consultant ownership\n    if (customer && customer.consultantId !== consultant.id) {\n      throw new Error('Unauthorized: Cannot access another consultant\\'s customer');\n    }\n\n    return customer || null;\n  }\n\n  /**\n   * Create new customer\n   */\n  async create(input: CreateCustomerInput): Promise<Customer> {\n    const consultant = authService.getCurrentConsultant();\n    if (!consultant) {\n      throw new Error('Not authenticated');\n    }\n\n    // Generate UUID\n    const id = crypto.randomUUID();\n\n    // Prepare customer data\n    const customerData: Customer = {\n      ...input,\n      id,\n      consultantId: consultant.id,\n      createdAt: new Date().toISOString(),\n      updatedAt: new Date().toISOString(),\n      encrypted: false,\n      checklist: input.checklist || {},\n      dealClosed: input.dealClosed || false,\n    };\n\n    // Validate\n    const validated = customerSchema.parse(customerData);\n\n    // Save to IndexedDB\n    await db.customers.add(validated);\n\n    console.log('✅ Customer created:', validated.id);\n    return validated;\n  }\n\n  /**\n   * Update customer\n   */\n  async update(\n    id: string,\n    input: Partial<UpdateCustomerInput>\n  ): Promise<Customer> {\n    const consultant = authService.getCurrentConsultant();\n    if (!consultant) {\n      throw new Error('Not authenticated');\n    }\n\n    // Get existing customer\n    const existing = await this.getById(id);\n    if (!existing) {\n      throw new Error('Customer not found');\n    }\n\n    // Merge updates\n    const updated: Customer = {\n      ...existing,\n      ...input,\n      id, // Ensure ID doesn't change\n      consultantId: consultant.id, // Ensure consultant doesn't change\n      updatedAt: new Date().toISOString(),\n    };\n\n    // Validate\n    const validated = customerSchema.parse(updated);\n\n    // Save to IndexedDB\n    await db.customers.put(validated);\n\n    console.log('✅ Customer updated:', validated.id);\n    return validated;\n  }\n\n  /**\n   * Delete customer\n   */\n  async delete(id: string): Promise<void> {\n    const consultant = authService.getCurrentConsultant();\n    if (!consultant) {\n      throw new Error('Not authenticated');\n    }\n\n    // Verify ownership\n    const customer = await this.getById(id);\n    if (!customer) {\n      throw new Error('Customer not found');\n    }\n\n    // Delete from IndexedDB\n    await db.customers.delete(id);\n\n    console.log('✅ Customer deleted:', id);\n  }\n\n  /**\n   * Search customers\n   */\n  async search(query: string): Promise<Customer[]> {\n    const consultant = authService.getCurrentConsultant();\n    if (!consultant) {\n      throw new Error('Not authenticated');\n    }\n\n    const all = await this.getAll();\n    const lowerQuery = query.toLowerCase().trim();\n\n    if (!lowerQuery) {\n      return all;\n    }\n\n    return all.filter(\n      (customer) =>\n        customer.name.toLowerCase().includes(lowerQuery) ||\n        customer.phone.includes(query) ||\n        customer.email?.toLowerCase().includes(lowerQuery) ||\n        customer.nric.toLowerCase().includes(lowerQuery) ||\n        customer.vsaNo?.toLowerCase().includes(lowerQuery)\n    );\n  }\n\n  /**\n   * Get customers by deal status\n   */\n  async getByDealStatus(dealClosed: boolean): Promise<Customer[]> {\n    const consultant = authService.getCurrentConsultant();\n    if (!consultant) {\n      throw new Error('Not authenticated');\n    }\n\n    return db.customers\n      .where({ consultantId: consultant.id, dealClosed })\n      .reverse()\n      .sortBy('updatedAt');\n  }\n\n  /**\n   * Toggle deal closed status\n   */\n  async toggleDealClosed(id: string): Promise<Customer> {\n    const customer = await this.getById(id);\n    if (!customer) {\n      throw new Error('Customer not found');\n    }\n\n    return this.update(id, { dealClosed: !customer.dealClosed });\n  }\n\n  /**\n   * Update checklist item\n   */\n  async updateChecklistItem(\n    id: string,\n    itemKey: string,\n    value: boolean\n  ): Promise<Customer> {\n    const customer = await this.getById(id);\n    if (!customer) {\n      throw new Error('Customer not found');\n    }\n\n    const updatedChecklist = {\n      ...customer.checklist,\n      [itemKey]: value,\n    };\n\n    return this.update(id, { checklist: updatedChecklist });\n  }\n\n  /**\n   * Get statistics\n   */\n  async getStats(): Promise<{\n    total: number;\n    open: number;\n    closed: number;\n  }> {\n    const consultant = authService.getCurrentConsultant();\n    if (!consultant) {\n      throw new Error('Not authenticated');\n    }\n\n    const all = await this.getAll();\n\n    return {\n      total: all.length,\n      open: all.filter((c) => !c.dealClosed).length,\n      closed: all.filter((c) => c.dealClosed).length,\n    };\n  }\n}\n\n/**\n * Export singleton instance\n */\nexport const customerService = new CustomerService();\n","import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { customerService } from '../services/customerService';\nimport type { CreateCustomerInput, UpdateCustomerInput } from '../schemas/customer.schema';\n\nconst QUERY_KEYS = {\n  customers: ['customers'] as const,\n  customer: (id: string) => ['customers', id] as const,\n  stats: ['customers', 'stats'] as const,\n  search: (query: string) => ['customers', 'search', query] as const,\n};\n\n/**\n * Hook to fetch all customers for the authenticated consultant\n */\nexport const useCustomers = () => {\n  return useQuery({\n    queryKey: QUERY_KEYS.customers,\n    queryFn: () => customerService.getAll(),\n  });\n};\n\n/**\n * Hook to fetch a single customer by ID\n */\nexport const useCustomer = (customerId: string) => {\n  return useQuery({\n    queryKey: QUERY_KEYS.customer(customerId),\n    queryFn: () => customerService.getById(customerId),\n    enabled: !!customerId,\n  });\n};\n\n/**\n * Hook to search customers\n */\nexport const useSearchCustomers = (query: string) => {\n  return useQuery({\n    queryKey: QUERY_KEYS.search(query),\n    queryFn: () => customerService.search(query),\n    enabled: !!query,\n  });\n};\n\n/**\n * Hook to get customer statistics\n */\nexport const useCustomerStats = () => {\n  return useQuery({\n    queryKey: QUERY_KEYS.stats,\n    queryFn: () => customerService.getStats(),\n  });\n};\n\n/**\n * Hook to create a new customer\n */\nexport const useCreateCustomer = () => {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: (data: CreateCustomerInput) => customerService.create(data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: QUERY_KEYS.customers });\n      queryClient.invalidateQueries({ queryKey: QUERY_KEYS.stats });\n    },\n  });\n};\n\n/**\n * Hook to update an existing customer\n */\nexport const useUpdateCustomer = () => {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({ customerId, data }: { customerId: string; data: UpdateCustomerInput }) =>\n      customerService.update(customerId, data),\n    onSuccess: (_, variables) => {\n      queryClient.invalidateQueries({ queryKey: QUERY_KEYS.customers });\n      queryClient.invalidateQueries({ queryKey: QUERY_KEYS.customer(variables.customerId) });\n      queryClient.invalidateQueries({ queryKey: QUERY_KEYS.stats });\n    },\n  });\n};\n\n/**\n * Hook to delete a customer\n */\nexport const useDeleteCustomer = () => {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: (customerId: string) => customerService.delete(customerId),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: QUERY_KEYS.customers });\n      queryClient.invalidateQueries({ queryKey: QUERY_KEYS.stats });\n    },\n  });\n};\n\n/**\n * Hook to update customer checklist item\n */\nexport const useUpdateChecklistItem = () => {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({\n      customerId,\n      key,\n      value,\n    }: {\n      customerId: string;\n      key: string;\n      value: boolean;\n    }) => customerService.updateChecklistItem(customerId, key, value),\n    onSuccess: (_, variables) => {\n      queryClient.invalidateQueries({ queryKey: QUERY_KEYS.customers });\n      queryClient.invalidateQueries({ queryKey: QUERY_KEYS.customer(variables.customerId) });\n    },\n  });\n};\n","import React from 'react';\nimport './Button.css';\n\nexport interface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: 'primary' | 'secondary' | 'danger' | 'ghost';\n  size?: 'small' | 'medium' | 'large';\n  loading?: boolean;\n  fullWidth?: boolean;\n  children: React.ReactNode;\n}\n\nexport const Button: React.FC<ButtonProps> = ({\n  variant = 'primary',\n  size = 'medium',\n  loading = false,\n  fullWidth = false,\n  disabled,\n  children,\n  className = '',\n  ...props\n}) => {\n  const classes = [\n    'btn',\n    `btn--${variant}`,\n    `btn--${size}`,\n    fullWidth && 'btn--full-width',\n    loading && 'btn--loading',\n    className\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  return (\n    <button\n      className={classes}\n      disabled={disabled || loading}\n      {...props}\n    >\n      {loading && (\n        <span className=\"btn__spinner\" aria-hidden=\"true\">\n          <svg className=\"btn__spinner-svg\" viewBox=\"0 0 24 24\">\n            <circle\n              className=\"btn__spinner-circle\"\n              cx=\"12\"\n              cy=\"12\"\n              r=\"10\"\n              fill=\"none\"\n              strokeWidth=\"3\"\n            />\n          </svg>\n        </span>\n      )}\n      <span className={loading ? 'btn__text--hidden' : 'btn__text'}>\n        {children}\n      </span>\n    </button>\n  );\n};\n","import React, { forwardRef } from 'react';\nimport './Input.css';\n\nexport interface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {\n  label?: string;\n  error?: string;\n  helperText?: string;\n  fullWidth?: boolean;\n  leftIcon?: React.ReactNode;\n  rightIcon?: React.ReactNode;\n}\n\nexport const Input = forwardRef<HTMLInputElement, InputProps>(\n  (\n    {\n      label,\n      error,\n      helperText,\n      fullWidth = false,\n      leftIcon,\n      rightIcon,\n      className = '',\n      id,\n      required,\n      disabled,\n      ...props\n    },\n    ref\n  ) => {\n    const inputId = id || `input-${Math.random().toString(36).substr(2, 9)}`;\n    const hasError = Boolean(error);\n\n    const wrapperClasses = [\n      'input-wrapper',\n      fullWidth && 'input-wrapper--full-width',\n      disabled && 'input-wrapper--disabled'\n    ]\n      .filter(Boolean)\n      .join(' ');\n\n    const inputClasses = [\n      'input',\n      hasError && 'input--error',\n      leftIcon && 'input--has-left-icon',\n      rightIcon && 'input--has-right-icon',\n      className\n    ]\n      .filter(Boolean)\n      .join(' ');\n\n    return (\n      <div className={wrapperClasses}>\n        {label && (\n          <label htmlFor={inputId} className=\"input-label\">\n            {label}\n            {required && <span className=\"input-label__required\">*</span>}\n          </label>\n        )}\n        <div className=\"input-container\">\n          {leftIcon && <span className=\"input-icon input-icon--left\">{leftIcon}</span>}\n          <input\n            ref={ref}\n            id={inputId}\n            className={inputClasses}\n            disabled={disabled}\n            aria-invalid={hasError}\n            aria-describedby={\n              error ? `${inputId}-error` : helperText ? `${inputId}-helper` : undefined\n            }\n            {...props}\n          />\n          {rightIcon && <span className=\"input-icon input-icon--right\">{rightIcon}</span>}\n        </div>\n        {error && (\n          <p id={`${inputId}-error`} className=\"input-message input-message--error\">\n            {error}\n          </p>\n        )}\n        {!error && helperText && (\n          <p id={`${inputId}-helper`} className=\"input-message input-message--helper\">\n            {helperText}\n          </p>\n        )}\n      </div>\n    );\n  }\n);\n\nInput.displayName = 'Input';\n","import React, { forwardRef } from 'react';\nimport './Input.css';\n\nexport interface TextareaProps extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {\n  label?: string;\n  error?: string;\n  helperText?: string;\n  fullWidth?: boolean;\n}\n\nexport const Textarea = forwardRef<HTMLTextAreaElement, TextareaProps>(\n  (\n    {\n      label,\n      error,\n      helperText,\n      fullWidth = false,\n      className = '',\n      id,\n      required,\n      disabled,\n      ...props\n    },\n    ref\n  ) => {\n    const textareaId = id || `textarea-${Math.random().toString(36).substr(2, 9)}`;\n    const hasError = Boolean(error);\n\n    const wrapperClasses = [\n      'input-wrapper',\n      fullWidth && 'input-wrapper--full-width',\n      disabled && 'input-wrapper--disabled'\n    ]\n      .filter(Boolean)\n      .join(' ');\n\n    const textareaClasses = [\n      'input',\n      hasError && 'input--error',\n      className\n    ]\n      .filter(Boolean)\n      .join(' ');\n\n    return (\n      <div className={wrapperClasses}>\n        {label && (\n          <label htmlFor={textareaId} className=\"input-label\">\n            {label}\n            {required && <span className=\"input-label__required\">*</span>}\n          </label>\n        )}\n        <textarea\n          ref={ref}\n          id={textareaId}\n          className={textareaClasses}\n          disabled={disabled}\n          aria-invalid={hasError}\n          aria-describedby={\n            error ? `${textareaId}-error` : helperText ? `${textareaId}-helper` : undefined\n          }\n          {...props}\n        />\n        {error && (\n          <p id={`${textareaId}-error`} className=\"input-message input-message--error\">\n            {error}\n          </p>\n        )}\n        {!error && helperText && (\n          <p id={`${textareaId}-helper`} className=\"input-message input-message--helper\">\n            {helperText}\n          </p>\n        )}\n      </div>\n    );\n  }\n);\n\nTextarea.displayName = 'Textarea';\n","import React, { useEffect, useRef } from 'react';\nimport { createPortal } from 'react-dom';\nimport './Modal.css';\n\nexport interface ModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  title?: string;\n  children: React.ReactNode;\n  size?: 'small' | 'medium' | 'large' | 'full';\n  showCloseButton?: boolean;\n  closeOnOverlayClick?: boolean;\n  closeOnEscape?: boolean;\n}\n\nexport const Modal: React.FC<ModalProps> = ({\n  isOpen,\n  onClose,\n  title,\n  children,\n  size = 'medium',\n  showCloseButton = true,\n  closeOnOverlayClick = true,\n  closeOnEscape = true\n}) => {\n  const modalRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const handleEscape = (event: KeyboardEvent) => {\n      if (closeOnEscape && event.key === 'Escape' && isOpen) {\n        onClose();\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('keydown', handleEscape);\n      document.body.style.overflow = 'hidden';\n    }\n\n    return () => {\n      document.removeEventListener('keydown', handleEscape);\n      document.body.style.overflow = '';\n    };\n  }, [isOpen, onClose, closeOnEscape]);\n\n  useEffect(() => {\n    if (isOpen && modalRef.current) {\n      const focusableElements = modalRef.current.querySelectorAll(\n        'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\n      );\n      const firstElement = focusableElements[0] as HTMLElement;\n      firstElement?.focus();\n    }\n  }, [isOpen]);\n\n  if (!isOpen) return null;\n\n  const handleOverlayClick = (event: React.MouseEvent<HTMLDivElement>) => {\n    if (closeOnOverlayClick && event.target === event.currentTarget) {\n      onClose();\n    }\n  };\n\n  const modalContent = (\n    <div className=\"modal-overlay\" onClick={handleOverlayClick} role=\"dialog\" aria-modal=\"true\">\n      <div ref={modalRef} className={`modal modal--${size}`}>\n        {(title || showCloseButton) && (\n          <div className=\"modal__header\">\n            {title && <h2 className=\"modal__title\">{title}</h2>}\n            {showCloseButton && (\n              <button\n                type=\"button\"\n                className=\"modal__close\"\n                onClick={onClose}\n                aria-label=\"Close modal\"\n              >\n                <svg\n                  width=\"24\"\n                  height=\"24\"\n                  viewBox=\"0 0 24 24\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  strokeWidth=\"2\"\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                >\n                  <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" />\n                  <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" />\n                </svg>\n              </button>\n            )}\n          </div>\n        )}\n        <div className=\"modal__content\">{children}</div>\n      </div>\n    </div>\n  );\n\n  return createPortal(modalContent, document.body);\n};\n","import React from 'react';\nimport './LoadingSpinner.css';\n\nexport interface LoadingSpinnerProps {\n  size?: 'small' | 'medium' | 'large';\n  color?: 'primary' | 'secondary' | 'white';\n  fullScreen?: boolean;\n  label?: string;\n}\n\nexport const LoadingSpinner: React.FC<LoadingSpinnerProps> = ({\n  size = 'medium',\n  color = 'primary',\n  fullScreen = false,\n  label = 'Loading...'\n}) => {\n  const spinner = (\n    <div className={`spinner spinner--${size} spinner--${color}`} role=\"status\">\n      <svg className=\"spinner__svg\" viewBox=\"0 0 50 50\">\n        <circle\n          className=\"spinner__circle\"\n          cx=\"25\"\n          cy=\"25\"\n          r=\"20\"\n          fill=\"none\"\n          strokeWidth=\"4\"\n        />\n      </svg>\n      <span className=\"spinner__label\">{label}</span>\n    </div>\n  );\n\n  if (fullScreen) {\n    return (\n      <div className=\"spinner-container spinner-container--fullscreen\">\n        {spinner}\n      </div>\n    );\n  }\n\n  return spinner;\n};\n","import React, { useState, useMemo } from 'react';\nimport { useCustomers } from '../hooks/useCustomers';\nimport { Button, LoadingSpinner } from '@/shared/components';\nimport type { Customer } from '../schemas/customer.schema';\nimport './CustomerList.css';\n\ninterface CustomerListProps {\n  onSelectCustomer: (customer: Customer) => void;\n  onCreateCustomer: () => void;\n  selectedCustomerId?: string;\n}\n\n// Helper function to get initials from name\nconst getInitials = (name: string): string => {\n  return name\n    .split(' ')\n    .map((n) => n[0])\n    .join('')\n    .substring(0, 2)\n    .toUpperCase();\n};\n\n// Helper function to get avatar color based on name\nconst getAvatarColor = (name: string): string => {\n  const colors = [\n    '#00BCD4', // Cyan\n    '#E91E63', // Pink\n    '#9C27B0', // Purple\n    '#673AB7', // Deep Purple\n    '#3F51B5', // Indigo\n    '#2196F3', // Blue\n    '#00BCD4', // Cyan (repeated for more variety)\n    '#009688', // Teal\n  ];\n  const index = name.charCodeAt(0) % colors.length;\n  return colors[index];\n};\n\nexport const CustomerList: React.FC<CustomerListProps> = ({\n  onSelectCustomer,\n  onCreateCustomer,\n  selectedCustomerId,\n}) => {\n  const [searchQuery, setSearchQuery] = useState('');\n\n  const { data: customers = [], isLoading, error } = useCustomers();\n\n  const filteredCustomers = useMemo(() => {\n    let filtered = [...customers];\n\n    // Apply search filter\n    if (searchQuery.trim()) {\n      const query = searchQuery.toLowerCase();\n      filtered = filtered.filter(\n        (customer) =>\n          customer.name.toLowerCase().includes(query) ||\n          customer.phone.includes(query) ||\n          customer.email?.toLowerCase().includes(query) ||\n          customer.nric.toLowerCase().includes(query)\n      );\n    }\n\n    // Sort by most recent first\n    filtered.sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime());\n\n    return filtered;\n  }, [customers, searchQuery]);\n\n  if (isLoading) {\n    return (\n      <div className=\"customer-list\">\n        <div className=\"customer-list__loading\">\n          <LoadingSpinner size=\"medium\" />\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"customer-list\">\n        <div className=\"customer-list__empty\">\n          <p>Error loading customers</p>\n          <Button size=\"small\" onClick={() => window.location.reload()}>\n            Reload\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"customer-list\">\n      {/* Header */}\n      <div className=\"customer-list__header\">\n        <h2 className=\"customer-list__title\">Customer List</h2>\n        <Button variant=\"primary\" size=\"small\" onClick={onCreateCustomer}>\n          + Add Customer\n        </Button>\n      </div>\n\n      {/* Search */}\n      <div className=\"customer-list__search\">\n        <input\n          type=\"text\"\n          className=\"customer-list__search-input\"\n          placeholder=\"Search customers...\"\n          value={searchQuery}\n          onChange={(e) => setSearchQuery(e.target.value)}\n        />\n      </div>\n\n      {/* Customer Items */}\n      <div className=\"customer-list__items\">\n        {filteredCustomers.length === 0 ? (\n          <div className=\"customer-list__empty\">\n            {searchQuery ? (\n              <>\n                <p className=\"customer-list__empty-text\">No customers found</p>\n                <Button size=\"small\" variant=\"ghost\" onClick={() => setSearchQuery('')}>\n                  Clear Search\n                </Button>\n              </>\n            ) : (\n              <>\n                <svg\n                  className=\"customer-list__empty-icon\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\"\n                  />\n                </svg>\n                <p className=\"customer-list__empty-text\">No customers yet</p>\n                <Button size=\"small\" variant=\"primary\" onClick={onCreateCustomer}>\n                  Create First Customer\n                </Button>\n              </>\n            )}\n          </div>\n        ) : (\n          filteredCustomers.map((customer) => (\n            <div\n              key={customer.id}\n              className={`customer-list__item ${\n                selectedCustomerId === customer.id ? 'customer-list__item--active' : ''\n              }`}\n              onClick={() => onSelectCustomer(customer)}\n            >\n              <div\n                className=\"customer-list__item-avatar avatar\"\n                style={{ backgroundColor: getAvatarColor(customer.name) }}\n              >\n                {getInitials(customer.name)}\n              </div>\n              <div className=\"customer-list__item-info\">\n                <div className=\"customer-list__item-name\">{customer.name}</div>\n                <div className=\"customer-list__item-phone\">{customer.phone}</div>\n              </div>\n            </div>\n          ))\n        )}\n      </div>\n    </div>\n  );\n};\n","import React, { useState } from 'react';\nimport { useCreateCustomer, useUpdateCustomer } from '../hooks/useCustomers';\nimport { Button, Input, Textarea } from '@/shared/components';\nimport type { Customer } from '../schemas/customer.schema';\nimport './CustomerForm.css';\n\ninterface CustomerFormProps {\n  customer?: Customer;\n  mode: 'create' | 'edit';\n  onSuccess: () => void;\n  onCancel: () => void;\n}\n\ninterface FormErrors {\n  [key: string]: string;\n}\n\nexport const CustomerForm: React.FC<CustomerFormProps> = ({\n  customer,\n  mode,\n  onSuccess,\n  onCancel,\n}) => {\n  const createCustomer = useCreateCustomer();\n  const updateCustomer = useUpdateCustomer();\n\n  const [formData, setFormData] = useState({\n    name: customer?.name || '',\n    phone: customer?.phone || '',\n    email: customer?.email || '',\n    nric: customer?.nric || '',\n    dob: customer?.dob || '',\n    occupation: customer?.occupation || '',\n    address: customer?.address || '',\n    addressContinue: customer?.addressContinue || '',\n    salesConsultant: customer?.salesConsultant || '',\n    vsaNo: customer?.vsaNo || '',\n    dealClosed: customer?.dealClosed || false,\n    notes: customer?.notes || '',\n  });\n\n  const [errors, setErrors] = useState<FormErrors>({});\n  const [showChecklist, setShowChecklist] = useState(false);\n  const [checklist, setChecklist] = useState<Record<string, boolean>>(\n    customer?.checklist || {\n      nricCollected: false,\n      testDriveCompleted: false,\n      vsaSigned: false,\n      tradeInDocuments: false,\n      paymentReceived: false,\n    }\n  );\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    const { name, value, type } = e.target;\n    const checked = (e.target as HTMLInputElement).checked;\n\n    setFormData((prev) => ({\n      ...prev,\n      [name]: type === 'checkbox' ? checked : value,\n    }));\n\n    // Clear error for this field when user starts typing\n    if (errors[name]) {\n      setErrors((prev) => {\n        const newErrors = { ...prev };\n        delete newErrors[name];\n        return newErrors;\n      });\n    }\n  };\n\n  const handleChecklistChange = (key: string, checked: boolean) => {\n    setChecklist((prev) => ({\n      ...prev,\n      [key]: checked,\n    }));\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setErrors({});\n\n    try {\n      if (mode === 'create') {\n        await createCustomer.mutateAsync({\n          ...formData,\n          checklist,\n        });\n      } else if (customer) {\n        await updateCustomer.mutateAsync({\n          customerId: customer.id,\n          data: {\n            ...formData,\n            checklist,\n          },\n        });\n      }\n\n      onSuccess();\n    } catch (error) {\n      console.error('Failed to save customer:', error);\n      setErrors({ submit: 'Failed to save customer. Please try again.' });\n    }\n  };\n\n  const isLoading = createCustomer.isPending || updateCustomer.isPending;\n\n  return (\n    <form onSubmit={handleSubmit} className=\"customer-form\">\n      <div className=\"customer-form__section\">\n        <h3 className=\"customer-form__section-title\">Personal Information</h3>\n        <div className=\"customer-form__grid\">\n          <Input\n            label=\"Full Name\"\n            name=\"name\"\n            value={formData.name}\n            onChange={handleChange}\n            error={errors.name}\n            required\n            fullWidth\n            disabled={isLoading}\n          />\n          <Input\n            label=\"Phone Number\"\n            name=\"phone\"\n            type=\"tel\"\n            value={formData.phone}\n            onChange={handleChange}\n            error={errors.phone}\n            required\n            fullWidth\n            disabled={isLoading}\n          />\n          <Input\n            label=\"Email Address\"\n            name=\"email\"\n            type=\"email\"\n            value={formData.email}\n            onChange={handleChange}\n            error={errors.email}\n            fullWidth\n            disabled={isLoading}\n          />\n          <Input\n            label=\"NRIC\"\n            name=\"nric\"\n            value={formData.nric}\n            onChange={handleChange}\n            error={errors.nric}\n            helperText=\"Format: S1234567A\"\n            required\n            fullWidth\n            disabled={isLoading}\n          />\n          <Input\n            label=\"Date of Birth\"\n            name=\"dob\"\n            type=\"date\"\n            value={formData.dob}\n            onChange={handleChange}\n            error={errors.dob}\n            required\n            fullWidth\n            disabled={isLoading}\n          />\n          <Input\n            label=\"Occupation\"\n            name=\"occupation\"\n            value={formData.occupation}\n            onChange={handleChange}\n            error={errors.occupation}\n            fullWidth\n            disabled={isLoading}\n          />\n        </div>\n      </div>\n\n      <div className=\"customer-form__section\">\n        <h3 className=\"customer-form__section-title\">Address</h3>\n        <div className=\"customer-form__grid\">\n          <Input\n            label=\"Address Line 1\"\n            name=\"address\"\n            value={formData.address}\n            onChange={handleChange}\n            error={errors.address}\n            required\n            fullWidth\n            disabled={isLoading}\n          />\n          <Input\n            label=\"Address Line 2\"\n            name=\"addressContinue\"\n            value={formData.addressContinue}\n            onChange={handleChange}\n            error={errors.addressContinue}\n            fullWidth\n            disabled={isLoading}\n          />\n        </div>\n      </div>\n\n      <div className=\"customer-form__section\">\n        <h3 className=\"customer-form__section-title\">Sales Information</h3>\n        <div className=\"customer-form__grid\">\n          <Input\n            label=\"Sales Consultant\"\n            name=\"salesConsultant\"\n            value={formData.salesConsultant}\n            onChange={handleChange}\n            error={errors.salesConsultant}\n            required\n            fullWidth\n            disabled={isLoading}\n          />\n          <Input\n            label=\"VSA Number\"\n            name=\"vsaNo\"\n            value={formData.vsaNo}\n            onChange={handleChange}\n            error={errors.vsaNo}\n            helperText=\"Vehicle Sales Agreement number\"\n            fullWidth\n            disabled={isLoading}\n          />\n          <div className=\"customer-form__checkbox\">\n            <label className=\"checkbox-label\">\n              <input\n                type=\"checkbox\"\n                name=\"dealClosed\"\n                checked={formData.dealClosed}\n                onChange={handleChange}\n                disabled={isLoading}\n              />\n              <span>Deal Closed</span>\n            </label>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"customer-form__section\">\n        <div className=\"customer-form__section-header\">\n          <h3 className=\"customer-form__section-title\">Checklist</h3>\n          <Button\n            type=\"button\"\n            variant=\"ghost\"\n            size=\"small\"\n            onClick={() => setShowChecklist(!showChecklist)}\n          >\n            {showChecklist ? 'Hide' : 'Show'}\n          </Button>\n        </div>\n        {showChecklist && (\n          <div className=\"customer-form__checklist\">\n            <label className=\"checkbox-label\">\n              <input\n                type=\"checkbox\"\n                checked={checklist.nricCollected}\n                onChange={(e) => handleChecklistChange('nricCollected', e.target.checked)}\n                disabled={isLoading}\n              />\n              <span>NRIC Collected</span>\n            </label>\n            <label className=\"checkbox-label\">\n              <input\n                type=\"checkbox\"\n                checked={checklist.testDriveCompleted}\n                onChange={(e) => handleChecklistChange('testDriveCompleted', e.target.checked)}\n                disabled={isLoading}\n              />\n              <span>Test Drive Completed</span>\n            </label>\n            <label className=\"checkbox-label\">\n              <input\n                type=\"checkbox\"\n                checked={checklist.vsaSigned}\n                onChange={(e) => handleChecklistChange('vsaSigned', e.target.checked)}\n                disabled={isLoading}\n              />\n              <span>VSA Signed</span>\n            </label>\n            <label className=\"checkbox-label\">\n              <input\n                type=\"checkbox\"\n                checked={checklist.tradeInDocuments}\n                onChange={(e) => handleChecklistChange('tradeInDocuments', e.target.checked)}\n                disabled={isLoading}\n              />\n              <span>Trade-In Documents Received</span>\n            </label>\n            <label className=\"checkbox-label\">\n              <input\n                type=\"checkbox\"\n                checked={checklist.paymentReceived}\n                onChange={(e) => handleChecklistChange('paymentReceived', e.target.checked)}\n                disabled={isLoading}\n              />\n              <span>Payment Received</span>\n            </label>\n          </div>\n        )}\n      </div>\n\n      <div className=\"customer-form__section\">\n        <Textarea\n          label=\"Notes\"\n          name=\"notes\"\n          value={formData.notes}\n          onChange={handleChange}\n          error={errors.notes}\n          rows={4}\n          fullWidth\n          disabled={isLoading}\n        />\n      </div>\n\n      {errors.submit && (\n        <div className=\"customer-form__error\">\n          {errors.submit}\n        </div>\n      )}\n\n      <div className=\"customer-form__actions\">\n        <Button type=\"button\" variant=\"ghost\" onClick={onCancel} disabled={isLoading}>\n          Cancel\n        </Button>\n        <Button type=\"submit\" variant=\"primary\" loading={isLoading}>\n          {mode === 'create' ? 'Create Customer' : 'Save Changes'}\n        </Button>\n      </div>\n    </form>\n  );\n};\n","import React, { useState } from 'react';\nimport { useCustomer, useDeleteCustomer, useUpdateChecklistItem } from '../hooks/useCustomers';\nimport { Button, LoadingSpinner, Modal } from '@/shared/components';\nimport type { Customer } from '../schemas/customer.schema';\nimport './CustomerDetails.css';\n\ntype TabType = 'details' | 'proposal' | 'vsa' | 'documents' | 'scanner';\n\ninterface CustomerDetailsProps {\n  customerId: string;\n  onEdit: (customer: Customer) => void;\n  onBack: () => void;\n  onDeleted: () => void;\n}\n\nexport const CustomerDetails: React.FC<CustomerDetailsProps> = ({\n  customerId,\n  onEdit,\n  onBack,\n  onDeleted,\n}) => {\n  const { data: customer, isLoading, error } = useCustomer(customerId);\n  const deleteCustomer = useDeleteCustomer();\n  const updateChecklistItem = useUpdateChecklistItem();\n\n  const [activeTab, setActiveTab] = useState<TabType>('details');\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n\n  const handleDelete = async () => {\n    try {\n      await deleteCustomer.mutateAsync(customerId);\n      setShowDeleteModal(false);\n      onDeleted();\n    } catch (error) {\n      console.error('Failed to delete customer:', error);\n    }\n  };\n\n  const handleChecklistToggle = async (key: string, value: boolean) => {\n    if (!customer) return;\n\n    try {\n      await updateChecklistItem.mutateAsync({\n        customerId,\n        key,\n        value,\n      });\n    } catch (error) {\n      console.error('Failed to update checklist:', error);\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"customer-details__loading\">\n        <LoadingSpinner size=\"large\" label=\"Loading customer details...\" />\n      </div>\n    );\n  }\n\n  if (error || !customer) {\n    return (\n      <div className=\"customer-details__error\">\n        <p>Error loading customer details. Please try again.</p>\n        <Button onClick={onBack}>Go Back</Button>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"customer-details\">\n      {/* Header with Name and Action Buttons */}\n      <div className=\"customer-details__header\">\n        <h1 className=\"customer-details__name\">{customer.name}</h1>\n        <div className=\"customer-details__actions\">\n          <Button variant=\"primary\" size=\"medium\">\n            Print Form\n          </Button>\n          <Button variant=\"primary\" size=\"medium\">\n            Combine & Print\n          </Button>\n          <Button variant=\"primary\" size=\"medium\">\n            Populate Excel\n          </Button>\n        </div>\n      </div>\n\n      {/* Tab Navigation */}\n      <div className=\"customer-details__tabs tabs\">\n        <button\n          className={`tab ${activeTab === 'details' ? 'tab-active' : ''}`}\n          onClick={() => setActiveTab('details')}\n        >\n          Details\n        </button>\n        <button\n          className={`tab ${activeTab === 'proposal' ? 'tab-active' : ''}`}\n          onClick={() => setActiveTab('proposal')}\n        >\n          Proposal\n        </button>\n        <button\n          className={`tab ${activeTab === 'vsa' ? 'tab-active' : ''}`}\n          onClick={() => setActiveTab('vsa')}\n        >\n          VSA\n        </button>\n        <button\n          className={`tab ${activeTab === 'documents' ? 'tab-active' : ''}`}\n          onClick={() => setActiveTab('documents')}\n        >\n          Documents\n        </button>\n        <button\n          className={`tab ${activeTab === 'scanner' ? 'tab-active' : ''}`}\n          onClick={() => setActiveTab('scanner')}\n        >\n          Scanner\n        </button>\n      </div>\n\n      {/* Tab Content */}\n      <div className=\"customer-details__content\">\n        {activeTab === 'details' && (\n          <div className=\"customer-details__tab-panel\">\n            <div className=\"customer-details__info-header\">\n              <Button variant=\"primary\" size=\"medium\" onClick={() => onEdit(customer)}>\n                Edit Details\n              </Button>\n            </div>\n\n            <div className=\"customer-details__grid\">\n              {/* Personal Information */}\n              <div className=\"customer-details__section\">\n                <h3 className=\"customer-details__section-title\">Personal Information</h3>\n                <div className=\"customer-details__fields\">\n                  <div className=\"customer-details__field\">\n                    <span className=\"customer-details__field-label\">Phone</span>\n                    <span className=\"customer-details__field-value\">\n                      <a href={`tel:${customer.phone}`}>{customer.phone}</a>\n                    </span>\n                  </div>\n                  {customer.email && (\n                    <div className=\"customer-details__field\">\n                      <span className=\"customer-details__field-label\">Email</span>\n                      <span className=\"customer-details__field-value\">\n                        <a href={`mailto:${customer.email}`}>{customer.email}</a>\n                      </span>\n                    </div>\n                  )}\n                  <div className=\"customer-details__field\">\n                    <span className=\"customer-details__field-label\">NRIC</span>\n                    <span className=\"customer-details__field-value\">{customer.nric}</span>\n                  </div>\n                  <div className=\"customer-details__field\">\n                    <span className=\"customer-details__field-label\">Date of Birth</span>\n                    <span className=\"customer-details__field-value\">\n                      {new Date(customer.dob).toLocaleDateString()}\n                    </span>\n                  </div>\n                  {customer.occupation && (\n                    <div className=\"customer-details__field\">\n                      <span className=\"customer-details__field-label\">Occupation</span>\n                      <span className=\"customer-details__field-value\">{customer.occupation}</span>\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              {/* Address */}\n              <div className=\"customer-details__section\">\n                <h3 className=\"customer-details__section-title\">Address</h3>\n                <div className=\"customer-details__fields\">\n                  <div className=\"customer-details__field\">\n                    <span className=\"customer-details__field-value\">\n                      {customer.address}\n                      {customer.addressContinue && (\n                        <>\n                          <br />\n                          {customer.addressContinue}\n                        </>\n                      )}\n                    </span>\n                  </div>\n                </div>\n              </div>\n\n              {/* Sales Information */}\n              <div className=\"customer-details__section\">\n                <h3 className=\"customer-details__section-title\">Sales Information</h3>\n                <div className=\"customer-details__fields\">\n                  <div className=\"customer-details__field\">\n                    <span className=\"customer-details__field-label\">Sales Consultant</span>\n                    <span className=\"customer-details__field-value\">{customer.salesConsultant}</span>\n                  </div>\n                  {customer.vsaNo && (\n                    <div className=\"customer-details__field\">\n                      <span className=\"customer-details__field-label\">VSA Number</span>\n                      <span className=\"customer-details__field-value\">{customer.vsaNo}</span>\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              {/* Checklist */}\n              <div className=\"customer-details__section customer-details__section--full\">\n                <h3 className=\"customer-details__section-title\">Checklist</h3>\n                <div className=\"customer-details__checklist\">\n                  {Object.entries(customer.checklist).map(([key, value]) => (\n                    <label key={key} className=\"checkbox-label\">\n                      <input\n                        type=\"checkbox\"\n                        checked={value}\n                        onChange={(e) => handleChecklistToggle(key, e.target.checked)}\n                      />\n                      <span>{formatChecklistLabel(key)}</span>\n                    </label>\n                  ))}\n                </div>\n              </div>\n\n              {/* Notes */}\n              {customer.notes && (\n                <div className=\"customer-details__section customer-details__section--full\">\n                  <h3 className=\"customer-details__section-title\">Notes</h3>\n                  <div className=\"customer-details__notes\">{customer.notes}</div>\n                </div>\n              )}\n\n              {/* Google Drive */}\n              {customer.driveFolderLink && (\n                <div className=\"customer-details__section customer-details__section--full\">\n                  <h3 className=\"customer-details__section-title\">Google Drive</h3>\n                  <div className=\"customer-details__fields\">\n                    <div className=\"customer-details__field\">\n                      <span className=\"customer-details__field-label\">Folder</span>\n                      <span className=\"customer-details__field-value\">\n                        <a href={customer.driveFolderLink} target=\"_blank\" rel=\"noopener noreferrer\">\n                          Open in Google Drive\n                        </a>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              {/* Metadata */}\n              <div className=\"customer-details__section customer-details__section--full\">\n                <h3 className=\"customer-details__section-title\">Record Information</h3>\n                <div className=\"customer-details__fields\">\n                  <div className=\"customer-details__field\">\n                    <span className=\"customer-details__field-label\">Created</span>\n                    <span className=\"customer-details__field-value\">\n                      {new Date(customer.createdAt).toLocaleString()}\n                    </span>\n                  </div>\n                  <div className=\"customer-details__field\">\n                    <span className=\"customer-details__field-label\">Last Updated</span>\n                    <span className=\"customer-details__field-value\">\n                      {new Date(customer.updatedAt).toLocaleString()}\n                    </span>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Delete Button */}\n            <div className=\"customer-details__danger-zone\">\n              <Button variant=\"danger\" size=\"medium\" onClick={() => setShowDeleteModal(true)}>\n                Delete Customer\n              </Button>\n            </div>\n          </div>\n        )}\n\n        {activeTab === 'proposal' && (\n          <div className=\"customer-details__tab-panel\">\n            <p className=\"customer-details__placeholder\">Proposal feature coming soon...</p>\n          </div>\n        )}\n\n        {activeTab === 'vsa' && (\n          <div className=\"customer-details__tab-panel\">\n            <p className=\"customer-details__placeholder\">VSA feature coming soon...</p>\n          </div>\n        )}\n\n        {activeTab === 'documents' && (\n          <div className=\"customer-details__tab-panel\">\n            <p className=\"customer-details__placeholder\">Documents feature coming soon...</p>\n          </div>\n        )}\n\n        {activeTab === 'scanner' && (\n          <div className=\"customer-details__tab-panel\">\n            <p className=\"customer-details__placeholder\">Scanner feature coming soon...</p>\n          </div>\n        )}\n      </div>\n\n      {/* Delete Confirmation Modal */}\n      <Modal\n        isOpen={showDeleteModal}\n        onClose={() => setShowDeleteModal(false)}\n        title=\"Delete Customer\"\n        size=\"small\"\n      >\n        <div className=\"customer-details__delete-modal\">\n          <p>\n            Are you sure you want to delete <strong>{customer.name}</strong>? This action cannot be\n            undone.\n          </p>\n          <div className=\"customer-details__delete-actions\">\n            <Button variant=\"ghost\" onClick={() => setShowDeleteModal(false)}>\n              Cancel\n            </Button>\n            <Button\n              variant=\"danger\"\n              onClick={handleDelete}\n              loading={deleteCustomer.isPending}\n            >\n              Delete Customer\n            </Button>\n          </div>\n        </div>\n      </Modal>\n    </div>\n  );\n};\n\nfunction formatChecklistLabel(key: string): string {\n  const labels: Record<string, string> = {\n    nricCollected: 'NRIC Collected',\n    testDriveCompleted: 'Test Drive Completed',\n    vsaSigned: 'VSA Signed',\n    tradeInDocuments: 'Trade-In Documents Received',\n    paymentReceived: 'Payment Received',\n  };\n  return labels[key] || key;\n}\n","import { useEffect, useState } from 'react';\nimport { useAuth } from '@/features/auth/hooks/useAuth';\nimport { CustomerList, CustomerForm, CustomerDetails } from '../components';\nimport { Button } from '@/shared/components';\nimport type { Customer } from '../schemas/customer.schema';\nimport './Dashboard.css';\n\ntype ViewMode = 'list' | 'create' | 'edit' | 'details';\n\n/**\n * Dashboard Page\n * Main page of the application - shows customer list and details\n */\nexport function Dashboard() {\n  const { isSignedIn, isInitialized, isLoading, signIn, signOut, consultant } = useAuth();\n  const [viewMode, setViewMode] = useState<ViewMode>('list');\n  const [selectedCustomer, setSelectedCustomer] = useState<Customer | null>(null);\n\n  useEffect(() => {\n    console.log('Dashboard mounted');\n    console.log('Auth state:', { isSignedIn, isInitialized, isLoading });\n  }, [isSignedIn, isInitialized, isLoading]);\n\n  // Loading state\n  if (!isInitialized || isLoading) {\n    return (\n      <div className=\"dashboard\">\n        <div className=\"dashboard-loading\">\n          <div className=\"spinner\"></div>\n          <p>Loading BYD CRM...</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Not signed in\n  if (!isSignedIn) {\n    return (\n      <div className=\"dashboard\">\n        <div className=\"dashboard-signin\">\n          <div className=\"signin-card\">\n            <h1>BYD CRM</h1>\n            <p>Customer Relationship Management System</p>\n            <p className=\"signin-subtitle\">\n              Sign in with your Google account to access your customer data\n            </p>\n            <button className=\"btn-signin\" onClick={signIn}>\n              <svg\n                width=\"18\"\n                height=\"18\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n                viewBox=\"0 0 48 48\"\n              >\n                <path\n                  fill=\"#EA4335\"\n                  d=\"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z\"\n                />\n                <path\n                  fill=\"#4285F4\"\n                  d=\"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z\"\n                />\n                <path\n                  fill=\"#FBBC05\"\n                  d=\"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z\"\n                />\n                <path\n                  fill=\"#34A853\"\n                  d=\"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z\"\n                />\n              </svg>\n              Sign in with Google\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Handlers\n  const handleSelectCustomer = (customer: Customer) => {\n    setSelectedCustomer(customer);\n    setViewMode('details');\n  };\n\n  const handleCreateCustomer = () => {\n    setSelectedCustomer(null);\n    setViewMode('create');\n  };\n\n  const handleEditCustomer = (customer: Customer) => {\n    setSelectedCustomer(customer);\n    setViewMode('edit');\n  };\n\n  const handleBackToList = () => {\n    setSelectedCustomer(null);\n    setViewMode('list');\n  };\n\n  const handleFormSuccess = () => {\n    setSelectedCustomer(null);\n    setViewMode('list');\n  };\n\n  const handleFormCancel = () => {\n    setSelectedCustomer(null);\n    setViewMode('list');\n  };\n\n  // Signed in - show dashboard\n  return (\n    <div className=\"dashboard\">\n      <header className=\"dashboard-header\">\n        <div className=\"header-content\">\n          <div className=\"header-left\">\n            <h1>BYD CRM</h1>\n            {viewMode !== 'list' && (\n              <span className=\"header-breadcrumb\">\n                {viewMode === 'create' && '/ New Customer'}\n                {viewMode === 'edit' && `/ Edit: ${selectedCustomer?.name}`}\n                {viewMode === 'details' && `/ ${selectedCustomer?.name}`}\n              </span>\n            )}\n          </div>\n          <div className=\"header-user\">\n            <img\n              src={consultant?.picture}\n              alt={consultant?.name}\n              className=\"user-avatar\"\n            />\n            <span className=\"user-name\">{consultant?.name}</span>\n            <Button variant=\"ghost\" size=\"small\" onClick={signOut}>\n              Sign Out\n            </Button>\n          </div>\n        </div>\n      </header>\n\n      <main className=\"dashboard-main\">\n        {viewMode === 'list' && (\n          <CustomerList\n            onSelectCustomer={handleSelectCustomer}\n            onCreateCustomer={handleCreateCustomer}\n          />\n        )}\n\n        {viewMode === 'create' && (\n          <div className=\"dashboard-form-container\">\n            <h2 className=\"dashboard-form-title\">Create New Customer</h2>\n            <CustomerForm\n              mode=\"create\"\n              onSuccess={handleFormSuccess}\n              onCancel={handleFormCancel}\n            />\n          </div>\n        )}\n\n        {viewMode === 'edit' && selectedCustomer && (\n          <div className=\"dashboard-form-container\">\n            <h2 className=\"dashboard-form-title\">Edit Customer</h2>\n            <CustomerForm\n              customer={selectedCustomer}\n              mode=\"edit\"\n              onSuccess={handleFormSuccess}\n              onCancel={handleFormCancel}\n            />\n          </div>\n        )}\n\n        {viewMode === 'details' && selectedCustomer && (\n          <CustomerDetails\n            customerId={selectedCustomer.id}\n            onEdit={handleEditCustomer}\n            onBack={handleBackToList}\n            onDeleted={handleBackToList}\n          />\n        )}\n      </main>\n    </div>\n  );\n}\n","import { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\nimport { useEffect } from 'react';\nimport { validateConfig, CONFIG } from '@/shared/constants/config';\nimport './App.css';\n\n// Lazy load pages\nimport { Dashboard } from '@/features/customers/pages/Dashboard';\n\n// Create QueryClient instance\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      staleTime: 5 * 60 * 1000, // 5 minutes\n      retry: 3,\n    },\n  },\n});\n\nfunction App() {\n  useEffect(() => {\n    // Validate configuration on mount\n    const { valid, errors } = validateConfig();\n    if (!valid) {\n      console.error('❌ Configuration errors:', errors);\n      errors.forEach((error) => console.error(`  - ${error}`));\n    } else {\n      console.log('✅ Configuration valid');\n    }\n\n    // Log app info\n    console.log(`🚀 ${CONFIG.APP.NAME} v${CONFIG.APP.VERSION}`);\n    console.log(`🌍 Environment: ${CONFIG.APP.ENV}`);\n  }, []);\n\n  return (\n    <QueryClientProvider client={queryClient}>\n      <Router basename=\"/BYD-CRM-2\">\n        <Routes>\n          <Route path=\"/\" element={<Dashboard />} />\n          <Route path=\"*\" element={<Dashboard />} />\n        </Routes>\n      </Router>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport App from './App';\nimport './index.css';\n\nReactDOM.createRoot(document.getElementById('root')!).render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n"],"names":["m","require$$0","client","CONFIG","validateConfig","errors","_AuthService","__publicField","resolve","reject","script","error","profile","consultant","_a","stored","user","callback","listenerId","AuthService","authService","BYDDatabase","Dexie","consultantId","db","useAuthStore","create","set","get","isSignedIn","errorMessage","useAuth","store","useEffect","customerSchema","z.object","z.string","z.literal","val","z.boolean","z.record","z.number","CustomerService","id","customer","input","customerData","validated","existing","updated","query","all","lowerQuery","_b","dealClosed","itemKey","value","updatedChecklist","c","customerService","QUERY_KEYS","useCustomers","useQuery","useCustomer","customerId","useCreateCustomer","queryClient","useQueryClient","useMutation","data","useUpdateCustomer","_","variables","useDeleteCustomer","useUpdateChecklistItem","key","Button","variant","size","loading","fullWidth","disabled","children","className","props","classes","jsxs","jsx","Input","forwardRef","label","helperText","leftIcon","rightIcon","required","ref","inputId","hasError","wrapperClasses","inputClasses","Textarea","textareaId","textareaClasses","Modal","isOpen","onClose","title","showCloseButton","closeOnOverlayClick","closeOnEscape","modalRef","useRef","handleEscape","event","firstElement","handleOverlayClick","modalContent","createPortal","LoadingSpinner","color","fullScreen","spinner","getInitials","name","n","getAvatarColor","colors","index","CustomerList","onSelectCustomer","onCreateCustomer","selectedCustomerId","searchQuery","setSearchQuery","useState","customers","isLoading","filteredCustomers","useMemo","filtered","a","b","e","Fragment","CustomerForm","mode","onSuccess","onCancel","createCustomer","updateCustomer","formData","setFormData","setErrors","showChecklist","setShowChecklist","checklist","setChecklist","handleChange","type","checked","prev","newErrors","handleChecklistChange","handleSubmit","CustomerDetails","onEdit","onBack","onDeleted","deleteCustomer","updateChecklistItem","activeTab","setActiveTab","showDeleteModal","setShowDeleteModal","handleDelete","handleChecklistToggle","formatChecklistLabel","Dashboard","isInitialized","signIn","signOut","viewMode","setViewMode","selectedCustomer","setSelectedCustomer","handleSelectCustomer","handleCreateCustomer","handleEditCustomer","handleBackToList","handleFormSuccess","handleFormCancel","QueryClient","App","valid","QueryClientProvider","Router","Routes","Route","ReactDOM","React"],"mappings":"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","x_google_ignoreList":[0]}